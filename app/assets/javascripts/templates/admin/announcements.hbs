<div class="main-page-header">
  <div class="title">Announcements</div>
</div>
<div class="display_card">
  <div class="card-section">
    Message
    {{textarea value=model.text rows='6' class='input' placeholder='text'}}
    Valid until
    {{input value=model.valid_until type='datetime-local' class='input'}}
    <ul class="errors-list">
      {{#each error in model.errors}}
        <li>{{error}}</li>
      {{/each}}
    </ul>
    <div class="controls">
      <button class="btn" {{action 'new' model.text model.valid_until}}>Announce</button>
    </div>
  </div>
</div>

<div class="display_card">
  <div class="card_title">Previous announcements</div>
  {{#each announcement in model}}
    <div class="card-section">
      <span class="title">
        {{announcement.author}}
      </span>
      {{pretty-timestamp announcement.timestamp}}
      <div class="body">
        <div class="body-section">
          {{announcement.text}}
        </div>
        <div class="controls">
          Displayed until: {{pretty-time announcement.valid_until}}
        </div>
      </div>
    </div>
  {{/each}}
</div>
